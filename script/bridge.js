var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{initialize:()=>i});var n={};e.r(n),e.d(n,{cancelFullScreen:()=>_,doFullScreen:()=>p,getFullScreenElement:()=>u,initialize:()=>m,isFullScreen:()=>h,isFullScreenEnabled:()=>d,toggle:()=>b});var r={};e.r(r),e.d(r,{HtmlStateKeeper:()=>y,createKeeper:()=>v});var s={};e.r(s),e.d(s,{fetchJson:()=>L,fetchSvgFromFile:()=>M,fetchTextFile:()=>S,readAsDataURL:()=>D,readAsText:()=>C});var o={};function i(e){function t(){e.invokeMethodAsync("Network.StatusChanged",navigator.onLine)}window.addEventListener("online",t),window.addEventListener("offline",t),setTimeout(()=>{t()},0)}let l;e.r(o),e.d(o,{addClass:()=>J,addClassBySelector:()=>Q,appendChild:()=>be,bindPositionTo:()=>pe,calcRelativeWidth:()=>ge,callVoidMethod:()=>le,callVoidMethodBySelector:()=>ae,callVoidMethodFromClosest:()=>ce,callVoidMethodWithinScope:()=>ue,centerElementRelativeTarget:()=>me,clearHtmlFrame:()=>Me,clickElement:()=>ke,configHtmlFrame:()=>Le,fetchBoundingClientRects:()=>fe,getAttribute:()=>Z,getBoundingClientRect:()=>he,getCssVariable:()=>re,getGlobalObject:()=>_e,getProperty:()=>W,getPropertyByPath:()=>X,getStyleProperty:()=>oe,hasClass:()=>ne,queryBoundingClientRect:()=>de,regDragLocking:()=>H,regDragable:()=>R,removeAttribute:()=>U,removeChild:()=>ye,removeClass:()=>te,setAttribute:()=>K,setCssVariable:()=>se,setProperty:()=>Y,setPropertyByPath:()=>G,setStyleProperty:()=>ie,setUniqueClass:()=>ee,subEventNotify:()=>Ee,subOutsideCapture:()=>z,subTransitionEnd:()=>Ce,subVisibilityObserve:()=>O,unregDragLocking:()=>q,unregDragable:()=>F,unsubEventNotify:()=>we,unsubOutsideCapture:()=>I,unsubTransitionEnd:()=>Se,unsubVisibilityObserve:()=>V,writeToHtmlFrame:()=>Te});let a,c=null;function u(){return c}function h(){return!!c}function d(){const e=l;return e.fullscreenEnabled||e.mozFullScreenEnabled||e.webkitFullscreenEnabled}function f(e){e.stopPropagation(),a&&a.invokeMethod("InformStateChanged",h())}function g(e){e.stopPropagation(),a&&a.invokeMethod("InformError")}function m(e,t){a=e,l=t||document,l.addEventListener("fullscreenchange",f,!1),l.addEventListener("fullscreenerror",g,!1),l.addEventListener("mozfullscreenchange",f,!1),l.addEventListener("mozfullscreenerror",g,!1),l.addEventListener("webkitfullscreenchange",f,!1),l.addEventListener("webkitfullscreenerror",g,!1)}function p(e){if(e||(e=l.documentElement),c===e)return;let t=c;c=e,t&&(t.removeEventListener("fullscreenchange",f),t.removeEventListener("fullscreenerror",g)),c&&(c.addEventListener("fullscreenchange",f),c.addEventListener("fullscreenerror",g));let n,r=c;r.requestFullscreen?n=r.requestFullscreen:r.mozRequestFullScreen?n=r.mozRequestFullScreen:r.webkitRequestFullscreen&&(n=r.webkitRequestFullscreen),n&&n.call(r)}function _(){const e=l;e.cancelFullScreen?e.cancelFullScreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen&&e.webkitCancelFullScreen(),c=null}function b(){h()?_():p()}class y{_mapTargets;_mapHeldElements;constructor(){this._mapTargets=new Map,this._mapHeldElements=new Map}hold(e,t){this._mapHeldElements.set(e,t)}unhold(e){this._mapHeldElements.delete(e)}save(e,t,n,r){let s=this._mapHeldElements.get(t);if(!s)throw new Error(`HtmlStateKeeper.save: The target element not found by HeldToken (${t})!`);if(n&&(s=s.querySelector(n)),!s)throw new Error(`HtmlStateKeeper.save: The target element not found by selector (${n})!`);let o=this._mapTargets.get(e);o||(o=new Map,this._mapTargets.set(e,o)),o.clear();for(let e=0;e<r.length;e++){const t=r[e];if(!(t in s))throw new Error(`HtmlStateKeeper.save: The saved element does not contain the specified property (strPropName=${t}).`);o.set(t,s[t])}}restore(e,t,n){let r=this._mapHeldElements.get(t);if(!r)throw new Error(`HtmlStateKeeper.restore: The target element not found by HeldToken (${t})!`);if(n&&(r=r.querySelector(n)),!r)throw new Error(`HtmlStateKeeper.restore: The target element not found by selector (${n})!`);let s=this._mapTargets.get(e);s&&s.forEach((e,t)=>{t in r?r[t]=e:console.error(`HtmlStateKeeper.restore: A property named '${t}' is missing in the target element!`)})}reset(){this._mapTargets.clear()}}function v(){return new y}function E(e){let t="";if(e instanceof Event)if(e.target instanceof IDBOpenDBRequest){const t=e.target;t.error&&(e=t.error)}else e.message&&(t=e.message);else if(e instanceof Error){const n=e;t=n.name,t.endsWith(".")||(t+="."),n.message&&(t+=" "+n.message)}else if(e instanceof Response){const r=e;t=n(`Response: ok=${r.ok}; status=${r.status}; statusText=${r.statusText}; type=${r.type}; url=${r.url}.`)}else"string"==typeof e?t=e:(e&&e.name&&(t=n(e.name)),e&&e.status&&(t=n(`status=${e.status}`)),e&&e.statusText&&(t=n(`statusText=${e.statusText}`)));return t;function n(e){return t.length>0?t+=` | ${e}`:e}}const w=new DOMParser;function D(e){return new Promise((t,n)=>{const r=new FileReader;r.onerror=()=>{r.abort(),n(new Error("Error reading file."))},r.addEventListener("load",()=>{t(r.result)},!1),r.readAsDataURL(e.files[0])})}function C(e){return new Promise((t,n)=>{const r=new FileReader;r.onerror=()=>{r.abort(),n(new Error("Error reading file."))},r.addEventListener("load",()=>{t(r.result)},!1),r.readAsText(e.files[0])})}function S(e){return new Promise((t,n)=>{fetch(e).then(e=>{!0===e.ok?t(e.text()):n(E(e))})})}function L(e){return new Promise((t,n)=>{fetch(e).then(e=>{!0===e.ok?t(e.json()):n(E(e))})})}async function M(e,t,n){const r=await S(e),s=w.parseFromString(r,"image/svg+xml").firstElementChild;return t&&s.setAttribute("id",t),n&&s.classList.add(...n.split(" ")),s}var T;!function(e){e[e.No=0]="No",e[e.Mouse=1]="Mouse",e[e.Touch=2]="Touch"}(T||(T={}));class k{_hteDragable;_hteCaptureZone;_hteArea;_refListener;_rule;_bMoving=null;_dragStatus=T.No;_ptLastDragPos=new DOMPoint;_callbackDragNotify;_draggingCssClass="dragging";constructor(e,t,n,r,s,o){this._hteDragable=e,this._hteCaptureZone=t,this._hteArea=n||e.offsetParent,this._refListener=r,this._rule=s,this._callbackDragNotify=o,this._hteCaptureZone.addEventListener("mousedown",this._onCaptureZoneMouseDown),this._hteCaptureZone.addEventListener("touchstart",this._onCaptureZoneTouchStart)}get element(){return this._hteDragable}get zone(){return this._hteCaptureZone}get area(){return this._hteArea}_ensureView(){if(!this._hteArea||!this._drag)return;const e=this._hteArea.getBoundingClientRect(),t=this._hteDragable.getBoundingClientRect(),n=new DOMRect;this._rule&&(n.x=e.left-t.width/100*this._rule.left,n.y=e.top-t.height/100*this._rule.top,n.width=e.right+t.width/100*this._rule.right-n.left,n.height=e.bottom+t.height/100*this._rule.bottom-n.top);const r=this._hteDragable.offsetParent.getBoundingClientRect();let s=!1,o=!1;t.bottom>n.bottom&&(s=!0,t.y=n.bottom-t.height),t.top<n.top&&(s=!0,t.y=n.top),t.right>n.right&&(o=!0,t.x=n.right-t.width),t.left<n.left&&(o=!0,t.x=n.x),(s||o)&&(t.x=t.left-r.left,t.y=t.top-r.top,o&&(this._hteDragable.style.left=t.left+"px"),s&&(this._hteDragable.style.top=t.top+"px"))}_onCaptureZoneMouseDown=e=>{e.target&&e.target.closest("button")||this._dragStatus===T.No&&(e.preventDefault(),this._dragStatus=T.Mouse,document.addEventListener("mousemove",this._onMouseMove,{capture:!0}),document.addEventListener("mouseup",this._onMouseUp,{capture:!0}),this._startDrag(e.clientX,e.clientY))};_onCaptureZoneTouchStart=e=>{this._dragStatus===T.No&&(this._dragStatus=T.Touch,document.addEventListener("touchmove",this._onTouchMove,{capture:!0}),document.addEventListener("touchend",this._onTouchEnd,{capture:!0}),this._startDrag(e.touches[0].clientX,e.touches[0].clientY))};_onMouseMove=e=>{this._dragStatus===T.Mouse&&(e.preventDefault(),this._drag(e.clientX,e.clientY))};_onMouseUp=e=>{this._dragStatus===T.Mouse&&(e.preventDefault(),this._endDrag())};_onTouchMove=e=>{this._dragStatus===T.Touch&&this._drag(e.touches[0].clientX,e.touches[0].clientY)};_onTouchEnd=e=>{this._dragStatus===T.Touch&&this._endDrag()};_startDrag(e,t){this._bMoving=!1,this._hteDragable.classList.add(this._draggingCssClass),this._ptLastDragPos.x=e,this._ptLastDragPos.y=t}_drag(e,t){if(!1===this._bMoving){this._bMoving=!0;const e=this._hteDragable.getBoundingClientRect(),t=this._hteDragable.offsetParent.getBoundingClientRect();this._hteDragable.style.transform="none",this._hteDragable.style.left=e.left-t.left+"px",this._hteDragable.style.top=e.top-t.top+"px",this._callbackDragNotify(!0)}let n=this._ptLastDragPos.x-e,r=this._ptLastDragPos.y-t;this._ptLastDragPos.x=e,this._ptLastDragPos.y=t,this._hteDragable.style.top=this._hteDragable.offsetTop-r+"px",this._hteDragable.style.left=this._hteDragable.offsetLeft-n+"px"}_endDrag(){if(this._dragStatus!==T.No){switch(this._dragStatus){case T.Mouse:document.removeEventListener("mousemove",this._onMouseMove),document.removeEventListener("mouseup",this._onMouseUp);break;case T.Touch:document.removeEventListener("touchmove",this._onTouchMove),document.removeEventListener("touchend",this._onTouchEnd)}this._hteDragable.classList.remove(this._draggingCssClass),this._ensureView(),this._dragStatus=T.No,!0===this._bMoving&&(this._callbackDragNotify(!1),this._refListener?.invokeMethodAsync("notifyDragEnd",this._hteDragable.style.left,this._hteDragable.style.top)),this._bMoving=null}}}const P=[],x=[];function N(e){e?x.forEach(e=>e.style.pointerEvents="none"):x.forEach(e=>e.style.pointerEvents="auto")}function R(e,t,n=null,r,s=null){const o=function(e){return P.find(t=>t.element===e)}(e);o||P.push(new k(e,t,n,r,s,N))}function F(e){const t=function(e){return P.findIndex(t=>t.element===e)}(e);t>=0&&P.splice(t,1)}function H(e){x.indexOf(e)<0&&x.push(e)}function q(e){const t=x.indexOf(e);t>=0&&(e.style.pointerEvents="auto",x.splice(t,1))}class A{_element;_key;_objDotNet;_strCallbackName;_observer;_configObserver={attributes:!0,childList:!1,subtree:!1};_origDisplay;_origVisibility;constructor(e,t,n,r){this._element=e,this._key=t,this._objDotNet=n,this._strCallbackName=r;const s=window.getComputedStyle(e);this._origDisplay=s.getPropertyValue("display"),this._origVisibility=s.getPropertyValue("visibility"),this._observer=new MutationObserver(this.callback),this._observer.observe(this._element,this._configObserver)}dispose(){this._observer&&this._observer.disconnect(),this._observer}callback=(e,t)=>{let n=null;for(const t of e)if("attributes"===t.type){const e=window.getComputedStyle(this._element),t=e.getPropertyValue("display"),r=e.getPropertyValue("visibility");t===this._origDisplay&&r===this._origVisibility||(n={isDisplay:"none"!=t,visibility:r},this._origDisplay=t,this._origVisibility=r);break}n&&this._objDotNet.invokeMethodAsync(this._strCallbackName,this._key,n)}}var B=new Map;function O(e,t,n,r){if(B.has(t))throw new Error('The HTMLElement with key "${key}" is already being observed!');var s=new A(e,t,n,r);B.set(t,s)}function V(e){B.has(e)&&(B.get(e).dispose(),B.delete(e))}class ${_element;_key;_objDotNet;_strCallbackName;_strClosestTest;constructor(e,t,n,r,s){this._element=e,this._key=t,this._objDotNet=n,this._strCallbackName=r,this._strClosestTest=s,window.addEventListener("click",this.onClick,!0)}dispose(){window.removeEventListener("click",this.onClick,!0)}onClick=e=>{this._strClosestTest&&e.target instanceof HTMLElement&&e.target.closest(this._strClosestTest)||e.target instanceof Node&&this._element.contains(e.target)||this._objDotNet.invokeMethodAsync(this._strCallbackName,this._key)}}var j=new Map;function z(e,t,n,r,s){if(j.has(t))throw new Error('The HTMLElement with key "${key}" has already captured the mouse!');var o=new $(e,t,n,r,s);j.set(t,o)}function I(e){j.has(e)&&(j.get(e).dispose(),j.delete(e))}function Z(e,t){return e.hasAttribute(t)?e.getAttribute(t):null}function K(e,t,n){e.setAttribute(t,n)}function U(e,t){e.removeAttribute(t)}function W(e,t){return e[t]}function Y(e,t,n){e[t]=n}function X(e,t){const n=t.split(".");if(n.length>1){for(let t=0;t<n.length-1;t++)e=e[n[t]];t=n[n.length-1]}return e[t]}function G(e,t,n){const r=t.split(".");if(r.length>1){for(let t=0;t<r.length-1;t++)e=e[r[t]];t=r[r.length-1]}e[t]=n}function J(e,t){e.classList.add(t)}function Q(e,t,n){const r=e.querySelector(t);r instanceof HTMLElement&&r.classList.add(n)}function ee(e,t,n){const r=e.querySelectorAll("."+n);for(let e=0;e<r.length;e++)r[e].classList.remove(n);const s=e.querySelector(t);s instanceof HTMLElement&&s.classList.add(n)}function te(e,t){e.classList.remove(t)}function ne(e,t){return e.classList.contains(t)}function re(e,t){return e.style.getPropertyValue(t)}function se(e,t,n){e.style.setProperty(t,n)}function oe(e,t){return e.style[t]}function ie(e,t,n){e.style[t]=n}function le(e,t){e[t]()}function ae(e,t,n){const r=e.querySelector(t);r&&r[n]()}function ce(e,t,n){const r=e.closest(t);r&&r[n]()}function ue(e,t,n,r){const s=e.closest(t);if(s){const e=s.querySelector(n);e&&e[r]()}}function he(e){return e.getBoundingClientRect()}function de(e,t=null){var n=t?t.querySelector(e):document.querySelector(e);return n?n.getBoundingClientRect():new DOMRect}function fe(e,t=null){var n=[];return e.forEach(e=>{e instanceof HTMLElement||(e=t?t.querySelector(e):document.querySelector(e)),n.push(e.getBoundingClientRect())}),n}async function ge(e,t,n){let r=0;if(e&&t){const t=e?.clientWidth||0;if(t>0)if(Number.isInteger(n.min)&&t<=n.min)r=t;else{const e=Number(n.wish);r=Number.isInteger(e)?Math.round(t/100*e):t,Number.isInteger(n.max)&&r>n.max&&(r=n.max)}}return r}function me(e,t,n=!0){const r=e.getBoundingClientRect(),s=e.offsetParent?.getBoundingClientRect(),o=t.getBoundingClientRect();let i=o.left+(o.width-r.width)/2;i-=s.left,e.style.left=i+"px"}function pe(e,t,n="bottom",r="start",s=0,o=!1){const i=t.getBoundingClientRect(),l=e.getBoundingClientRect(),a=e.offsetParent?.getBoundingClientRect();if(a){let t=0,c=0,u=!1;if("bottom"===n&&(u=!0,c=i.bottom-a.y+s),"start"===r&&u&&(t=i.left-a.x,o)){const e=t+l.width-window.innerWidth;e>0&&(t-=e)}e.style.top=c+"px",e.style.left=t+"px"}}function _e(e){return window[e]}function be(e,t){e.appendChild(t)}function ye(e,t){e.removeChild(t)}const ve=[];function Ee(e,t,n,r,s){let o=t?e?.querySelector(t):e;if(o&&r){const e={target:o,eventName:n,listener:r,handler:e=>{r.invokeMethodAsync(s)}};e.target.addEventListener(n,e.handler),ve.push(e)}}function we(e,t,n,r){let s=t?e?.querySelector(t):e;if(s&&r){const e=ve.findIndex(e=>e.target===s&&e.eventName===n&&e.listener._id===r._id);if(e>=0){const t=ve[e];t.target.removeEventListener(t.eventName,t.handler),ve.splice(e,1)}}}const De=[];function Ce(e,t,n,r,s){let o=t?e?.querySelector(t):e;if(o&&r){const e={emitter:o,propertyName:n,listener:r,handler:function(e){e.propertyName==this.propertyName&&r.invokeMethodAsync(s)}};e.emitter.addEventListener("transitionend",e.handler.bind(e)),De.push(e)}}function Se(e,t,n){let r=t?e?.querySelector(t):e;if(r&&n){const e=De.findIndex(e=>e.emitter===r&&e.listener._id===n._id);if(e>=0){const t=De[e];t.emitter.removeEventListener("transitionend",t.handler),De.splice(e,1)}}}function Le(e,t,n=!1){e?.forEach(e=>{t?.forEach(t=>{if(1==("Link"===t?.type)){const n=document.createElement("link");n.href=t.path,n.rel="stylesheet",n.type="text/css",e.contentDocument?.head.appendChild(n)}e.contentDocument.documentElement.style=n?"overflow: hidden;":"overflow-y: auto; overflow-x: hidden; scrollbar-width: thin;"}),n&&"true"!=e.dataset.observed&&(new ResizeObserver(t=>{for(const n of t)"BODY"===n.target.tagName&&(e.style.height=n.target.offsetHeight+"px")}).observe(e.contentDocument.body),e.dataset.observed="true")})}function Me(e){e?.forEach(e=>{e.contentDocument&&(e.contentDocument.body.innerHTML="")})}function Te(e,t,n=!1){return new Promise(n=>{if(e){const n=e.contentDocument?.body;n?n.innerHTML=t:e.srcdoc=t}setTimeout(()=>{n()},0)})}function ke(e,t){if(e instanceof HTMLElement){let n=e;t&&(n=n.querySelector(t)||n),n.click()}}function Pe(){return t}function xe(){return n}function Ne(){return r}function Re(){return s}function Fe(){return o}export{xe as getFullscreenModule,Ne as getKeeperModule,Pe as getNetworkModule,Re as getPipeModule,Fe as getUtilsModule};